<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../../static/base.css">
<link rel="stylesheet" href="../../static/style.css">
<link rel="stylesheet" href="../../static/prism.css">
<link rel="stylesheet" href="../../static/custom.css">
<title>Github Pagesで公開 — lektor-demo-1</title>
<body>
  <header>
    <h1>朗読者の記憶</h1>
    <!-- <h3>Static Site CMS Lektor Blog</h3> -->
    <nav>
      <ul class="nav navbar-nav">
        <li><a href="../../">Welcome</a></li>
        
          <li class="active"><a href="../">Blog</a></li>
        
          <li><a href="../../tags/">Tags</a></li>
        
          <li><a href="../../about/">About</a></li>
        
      </ul>
    </nav>
  </header>
  <div class="page">
    <script src="../../static/js/prism.js" defer></script>
    <!-- 
      ><a href="/">Home</a>
    
      ><a href="/blog">blog</a>
    
      ><a href="/blog/quickstart-githubpages">quickstart-githubpages</a>
     -->
    
  
  <div class="blog-post">
  
    <h2>Github Pagesで公開</h2>
    <hr />
  
  <div class="meta">
    <ul> 
    
      
        <li>tags:</li>
      
      <li>
          <a href="../tag/lektor/">lektor</a>
        </li>
      <li>
          <a href="../tag/quickstart/">quickstart</a>
        </li>
      
      </ul>
    
    <span>
      on 23-01-23
    </span>
  </div>
  
    <p>Lektorで生成される静的サイトは、多くのホスティングサービスが利用可能ですが、ここではGithub Pagesへのホスティング方法を説明します。</p>
<p>Githubへのユーザ登録は終了している前提です。Github Pagesでは２通りのURLのWebページを作成できます。</p>
<ul>
<li><a href="https://ユーザー名.github.io">https://ユーザー名.github.io</a></li>
<li><a href="https://ユーザー名.github.io/リポジトリ名">https://ユーザー名.github.io/リポジトリ名</a></li>
</ul>
<h3>1. <a href="https://ユーザー名.github.io">https://ユーザー名.github.io</a></h3>
<p>ユーザ毎に一つのサイトのホスティングができます。</p>
<h4>a) Githubの管理画面</h4>
<ol>
<li>ブラウザでGithubの管理画面を開き、Repositoriesの画面へ行きます。</li>
<li>Repositoriesの画面でレポジトリの作成(New)を選択します。</li>
<li>「Repository name」に、<strong>ユーザー名.github.io</strong>を入力します。</li>
<li>「Add a README file」へチェックを入れます。</li>
<li>下の方へスクロールして「Create repository」をクリックして作業を完了させます。</li>
</ol>
<h5>Masterブランチ</h5>
<p>Lektorのデプロイ機能は、Masterブランチを対象にします。しかし今の標準はMainブランチがdefaultです。その場合は「branch」ボタンからMainの欄を開き、鉛筆マークをクリックして、Masterにリネームします。</p>
<h4>b) ローカルのLektor側</h4>
<p>設定ファイル<code>**.lektorproject</code>へghpagesのurlを記述します。</p>
<h4>lektor-demo.lektorproject</h4>
<pre><code class="lang-none">[servers.ghpages]
target = ghpages://ユーザー名/ユーザー名.github.io
</code></pre>
<p>デプロイはLektorの管理画面の右上のアップロードマークをクリックするか、プロジェクトのディレクトリで<code>lektor deploy</code>コマンドを実行します。</p>
<pre><code class="lang-shell">$ lektor deploy
</code></pre>
<h3>2. <a href="https://ユーザー名.github.io/リポジトリ名">https://ユーザー名.github.io/リポジトリ名</a></h3>
<p>レポジトリの数だけホスティングできますが、Lektorのdeploy機能は使えません。</p>
<h4>a) Githubの管理画面</h4>
<ol>
<li>ブラウザでGithubの管理画面を開き、Repositoriesの画面へ行きます。</li>
<li>Repositoriesの画面でレポジトリの作成(New)を選択します。</li>
<li>「Repository name」に、<strong>レポジトリ名</strong>を入力します。</li>
<li>「Add a README file」へチェックを入れます。</li>
<li>下の方へスクロールして「Create repository」をクリックして作業を完了させます。</li>
<li>レポジトリ管理画面から、Setting -&gt; Pagesを選択して、Github Pagesの画面に行きます。</li>
<li>GitHub Pagesの画面で、Branchメニューのプルダウンを[main]と[/root]を選択して[Save]ボタンを押します。</li>
</ol>
<h4>b) ローカルのlektor側</h4>
<ol>
<li>プロジェクトのルートでリポジトリをクローンします。クローン先に <code>dist</code>ディレクトリを指定します。</li>
<li><code>lektor build</code>に <code>-O</code> オプションを付けて、<code>dist</code>内へビルドファイルを出力します。</li>
<li><code>dist</code>ディレクトリへ移動し、addコマンドで全てのファイルを追跡対象にします。</li>
<li><code>dist</code>ディレクトリ内で、commitし、リモート側へpushします。</li>
</ol>
<pre><code class="lang-shell">$ git clone https://github.com/ユーザ名/リポジトリ名.git dist
$ lektor build -O dist
$ cd dist
$ git add .
$ git commit -m &quot;first commit&quot;
$ git push
</code></pre>
<p>また、Lektorプロジェクト自体を公開レポジトリで管理して、そのdocsディレクトリを公開に利用することも出来ますが、その方法は試験的に公開する場合に留める方が良いでしょう。</p>
<!--
ローカルにクローンしている場合は、以下のコマンドで書き換えます。
```shell
$ git branch -m main master
$ git fetch origin
$ git branch -u origin/master master
$ git remote set-head origin -a
```
-->
  
  </div>

  
  <div class="siblings">
    
        <a href="../quickstart-highlighter/">Previous Post</a>
    
    
        <a href="../quickstart-summary/">Next Post</a>
    
  </div>


  </div>
  <footer>
    &copy; Copyright 2023 by Akira.
  </footer>
</body>
